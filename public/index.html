<html>
<head>
  <title>My website</title>
  <script>
    (function (w, url) {
      window.tracker = window.tracker || { q: [] };
      window.tracker.track = function () {
        window.tracker.q.push({
          event: arguments[0],
          tags: Array.prototype.slice.call(arguments, 1),
          url: window.location.href,
          title: document.title,
          ts: Date.now(), });
      };

      const script = document.createElement('script');
      script.async = true;
      script.src = url;
      document.head.appendChild(script);
    })(window, "http://localhost:8888/tracker");
  </script>
  <script>
    tracker.track('pageview');
    tracker.track('test', 'one', 'two', 'three');
  </script>
</head>
<body>
<button onclick="tracker.track('click-button')">Click me</button>
<ul>
  <li><a href="/1.html" onclick="tracker.track('click-link', '1')">1.html</a></li>
  <li><a href="/2.html" onclick="tracker.track('click-link', '2')">2.html</a></li>
  <li><a href="/3.html" onclick="tracker.track('click-link', '3', 'three')">3.html</a></li>
</ul>
</body>
</html>
